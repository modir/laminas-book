<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://modir.github.io/ec2_tutorial/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Appendix E. Installing a Laminas Web Application to Amazon EC2 - Using Laminas Framework</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Appendix E. Installing a Laminas Web Application to Amazon EC2";
        var mkdocs_page_input_path = "ec2_tutorial.md";
        var mkdocs_page_url = "/ec2_tutorial/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Using Laminas Framework
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Preface</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../intro/">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../acknowledgments/">Acknowledgments</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../intro/">Introduction to Laminas Framework</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../skeleton/">Laminas Skeleton Application</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../operation/">Website Operation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../mvc/">Model-View-Controller</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../routing/">Routing</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../appearance/">Page Appearance and Layout</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../forms/">Collecting User Input with Forms</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../filters/">Transforming Input Data with Filters</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../validators/">Checking Input Data with Validators</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../uploads/">Uploading Files with Forms</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../forms_advanced/">Advanced Usage of Forms</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../doctrine/">Database Management with Doctrine ORM</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../doctrine_migrations/">Database Migrations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../modules/">Creating a New Module</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../session/">Working with Sessions</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../users/">User Management, Authentication and Access Filtering</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../roles/">Role-Based Access Control</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../devenv/">Appendix A. Configuring Web Development Environment</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../netbeans/">Appendix B. Introduction to PHP Development in NetBeans IDE</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../bootstrap/">Appendix C. Introduction to Twitter Bootstrap</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../doctrine_intro/">Appendix D. Introduction to Doctrine</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">Appendix E. Installing a Laminas Web Application to Amazon EC2</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#what-is-amazon-web-services">What is Amazon Web Services?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#creating-amazon-web-services-account">Creating Amazon Web Services Account</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#creating-a-key-pair">Creating a Key Pair</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#launching-ec2-linux-instance">Launching EC2 Linux Instance</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#step-1-choose-an-amazon-machine-image-ami">Step 1 – Choose an Amazon Machine Image (AMI)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#step-2-choose-an-instance-type">Step 2 — Choose an Instance Type</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#step-3-configure-instance">Step 3 — Configure Instance</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#step-4-add-storage">Step 4 — Add Storage</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#step-5-tag-instance">Step 5 — Tag Instance</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#step-6-security-group">Step 6 — Security Group</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#step-7-review-instance-launch">Step 7 — Review Instance Launch</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#assigning-an-ip-address-to-the-instance">Assigning an IP Address to the Instance</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#connecting-to-ec2-instance-through-ssh">Connecting to EC2 Instance through SSH</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#installing-apache-http-server-and-php-engine">Installing Apache HTTP Server and PHP Engine</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#installing-the-hello-world-web-application">Installing the Hello World Web Application</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#creating-virtual-host">Creating Virtual Host</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#installing-laminas-framework-with-composer">Installing Laminas Framework with Composer</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#results">Results</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#summary">Summary</a>
    </li>
    </ul>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Using Laminas Framework</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Appendix E. Installing a Laminas Web Application to Amazon EC2</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/modir/laminas-book/edit/main/docs/ec2_tutorial.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="appendix-e-installing-a-laminas-web-application-to-amazon-ec2">Appendix E. Installing a Laminas Web Application to Amazon EC2</h1>
<p>Once you have developed a laminas-based website, you'll need to install it on some publicly acessible web server
to make it visible to other people.</p>
<p>If you want to install a Laminas Framework based web application, but do not have a web server yet,
this tutorial is for you. In this tutorial, we will show how to create a virtual Linux machine in
the <em>Amazon Web Services Cloud</em> for free and how to install the <em>Hello World</em> application on that machine.</p>
<h2 id="what-is-amazon-web-services">What is Amazon Web Services?</h2>
<p><a href="https://aws.amazon.com">Amazon Web Services (AWS)</a> is a cloud platform providing scalable and
reliable web hosting services. Cloud computing is the delivery of computing and storage capacity
as a service to a community of end-recipients. With AWS, you can easily set up a web server and
access it in a few minutes. For new users, Amazon provides a free usage tier: you are able to run a
web server for one year absolutely for free.</p>
<p>So, with AWS free usage tier you have:</p>
<ul>
<li>virtual Linux server (613 MB of memory and 32-bit and 64-bit platform support);</li>
<li>30 GB of storage;</li>
<li>15 GB of traffic per month;</li>
<li>a dedicated external IP address.</li>
</ul>
<p>And all this you can register and prepare for work in half an hour, if you have a credit card that
Amazon accepts (Amazon will charge $2 during registration) and a phone (Amazon may request your identity
verification).</p>
<h2 id="creating-amazon-web-services-account">Creating Amazon Web Services Account</h2>
<p>To create new AWS account, you need to open <em>Amazon Web Services</em> page in your browser and click the <em>Sign
Up</em> button. The <em>Sign In or Create an AWS Account</em> page appears (shown in the figure below):</p>
<p><img alt="Figure E.1. Sign In or Create an AWS Account page" src="../images/ec2_tutorial/aws_create_account.png" /></p>
<p>You need to enter your E-mail address, select the <em>I am a new user</em> option and click the <em>Sign in
using our secure server</em> button. Then you have to pass through several registration steps: account
creation, payment method choice, identity verification and confirmation.</p>
<p>When you are ready with registration, sign into your AWS account, click the <em>My Account/Console</em> button
and select <em>AWS Management Console</em> from drop-down menu. <em>AWS Management Console</em> page appears (shown in the
figure below):</p>
<p><img alt="Figure E.2. AWS Management Console" src="../images/ec2_tutorial/aws_management_console.png" /></p>
<p>The <em>AWS Management Console</em> displays the products currently accessible by you. You are interested in EC2
product (Elastic Compute Cloud, shortly EC2), because EC2 allows to run a virtual Linux server. In terms
of AWS, such a virtual server is also called an EC2 Instance.</p>
<h2 id="creating-a-key-pair">Creating a Key Pair</h2>
<p>A key pair is used by AWS to authenticate you when you will connect to the EC2 virtual machine. The key
pair consists of two keys: the public key and the private key. The private key should be stored in a
secret place, and you should not give it to anyone.</p>
<p>Click EC2 icon in your <em>AWS Management Console</em> window. <em>EC2 Console</em> page appears. The page has a side bar
menu where you can find several sections like <em>INSTANCES</em>, <em>IMAGES</em>, <em>ELASTIC BLOCK STORE</em>, <em>NETWORK &amp; SECURITY</em>.</p>
<p>In order to securely connect to your virtual server through SSH protocol, you need to create a key pair.
To do this, in the EC2 Console side bar menu, under <em>NETWORK &amp; SECURITY</em> section, click the <em>Key Pairs</em> link.</p>
<p><img alt="Figure E.3. AWS keypairs" src="../images/ec2_tutorial/aws_keypairs.png" /></p>
<p>On the page that appears, click the <em>Create Key Pair</em> button and enter the name for your new key pair (for example,
enter ‘test’) and press the <em>Create</em> button. When your key pair has been generated, you are offered to download
the key as a PEM file. Save the file to some folder – you will need it later.</p>
<h2 id="launching-ec2-linux-instance">Launching EC2 Linux Instance</h2>
<p>On the EC2 Console side bar menu, under the <em>INSTANCES</em> section, click the <em>Instances</em> link, and on the page that
appears, click the <em>Launch Instance</em> button. Then you will have to pass through several Wizard-like pages.</p>
<h3 id="step-1-choose-an-amazon-machine-image-ami">Step 1 – Choose an Amazon Machine Image (AMI)</h3>
<p>The first of them is the <em>Choose an Amazon Machine Image (AMI)</em> page (shown in the figure below).</p>
<p><img alt="Figure E.4. Choose an Amazon Machine Image (AMI) page" src="../images/ec2_tutorial/aws_create_new_instance.png" /></p>
<p>On the page that appears, you need to select the Linux distribution you want to run on the virutal machine.
In this tutorial, we choose <em>Amazon Linux AMI, 64-bit</em>.</p>
<blockquote>
<p>Amazon Linux is a distribution from Red Hat Linux and Cent OS family. The installation instructions are
common between these distributions. For example, all these distributions use the yum package manager. So, if
you know how to install a program in Cent OS, you will be able to apply the same steps to install it in Amazon Linux.</p>
<p>In this tutorial, we use Amazon Linux, but you may select another distribution, if you wish.</p>
</blockquote>
<p>Click the <em>Select</em> button at the right side of the <em>Amazon Linux AMI</em> option.</p>
<h3 id="step-2-choose-an-instance-type">Step 2 — Choose an Instance Type</h3>
<p>Next, the <em>Choose an Instance Type</em> page appears (see the figure below).</p>
<p><img alt="Figure E.5. Choose an Instance Type page" src="../images/ec2_tutorial/aws_choose_instance_type.png" /></p>
<p>On that page, you can choose the parameters of the virtual machine which affect its performance. In this tutorial,
we will use the <em>Micro Instance</em> type, which is available for free usage. Please note that the <em>Micro Instance</em> type
is limited in CPU and memory resources, so it is not well suitable for high-load production systems.</p>
<p>Now click the <em>Next</em> button to proceed to the next page.</p>
<h3 id="step-3-configure-instance">Step 3 — Configure Instance</h3>
<p>The <em>Configure Instance</em> page appears (shown in figure below).</p>
<p><img alt="Figure E.6. Configure Instance page" src="../images/ec2_tutorial/aws_configure_instance_details.png" /></p>
<p>On that page, you can edit instance details. It will be enough to set check on the <em>Enable termination protection</em>
check box (this will protect the virtual machine from accidental termination).</p>
<h3 id="step-4-add-storage">Step 4 — Add Storage</h3>
<p>Click the <em>Next</em> button to go to the <em>Add Storage</em> page (see figure below for example).</p>
<p><img alt="Figure E.7. Add Storage page" src="../images/ec2_tutorial/aws_add_storage.png" /></p>
<p>On that page, you can adjust the size of the virtual hard disk drive attached to your virtual machine (for the
free usage, you are able to allocate up to 30 GB of storage space). This disk drive is part of EBS service
(Elastic Block Storage). It is very reliable and automatically backed up to protect your data from accidental loss.</p>
<h3 id="step-5-tag-instance">Step 5 — Tag Instance</h3>
<p>Click the <em>Next</em> button to go to the next page called <em>Tag Instance</em>.</p>
<p><img alt="Figure E.8. Tag Instance page" src="../images/ec2_tutorial/aws_tag_instance.png" /></p>
<p>On that page, you will be able to add one or several tags to distinguish this EC2 instance from the others
(in the future, you may launch more instances in your account). For example, add the Name tag and set its
value to "Webserver". This will help you to remember that this instance's purpose is to run the Apache Web Server.</p>
<h3 id="step-6-security-group">Step 6 — Security Group</h3>
<p>Click the <em>Next</em> button to go to the next page called <em>Security Group</em> (see below).</p>
<p><img alt="Figure E.9. Security Group page" src="../images/ec2_tutorial/aws_security_group.png" /></p>
<p>On the <em>Security Group</em> page, you need to configure the security group rules (firewall) for the EC2 instance.
The rules define what ports will be open for inbound access. By default, your EC2 instance allows access
through SSH (port 22). You also need to add a rule allowing to access port 80 (HTTP). To do this, click
the <em>Add Rule</em> button and enter 80 into the <em>Port range</em> field.</p>
<h3 id="step-7-review-instance-launch">Step 7 — Review Instance Launch</h3>
<p>Click the <em>Next</em> button to go to the last page named <em>Review Instance</em> Launch.</p>
<p><img alt="Figure E.10. Review Instance Launch page" src="../images/ec2_tutorial/aws_review_instance_launch.png" /></p>
<p>On this page you are able to review the virtual machine settings before you launch it. When you are ready,
click the <em>Launch</em> button. The <em>Select an existing keypair of create a new keypair</em> pop-up window appears.</p>
<p><img alt="Figure E.11. Select Keypair page" src="../images/ec2_tutorial/aws_select_keypair.png" /></p>
<p>In this window, select the 'test' keypair from the list of existing keypairs (we have created the
'test' keypair earlier) and click the <em>Launch Instances</em> button to trigger the instance launch process.</p>
<p>Now you should be able to see your instance on the <em>Instances</em> page (see the figure below).</p>
<p><img alt="Figure E.12. Instances page" src="../images/ec2_tutorial/aws_instances.png" /></p>
<h2 id="assigning-an-ip-address-to-the-instance">Assigning an IP Address to the Instance</h2>
<p>Every web server on the Internet has a dedicated IP address by which others can refer to it.
Next, you need to assign an IP address to the EC2 instance you have just created. To do this,
click the <em>Elastic IPs</em> link in the side bar menu (under <em>NETWORK &amp; SECURITY</em> section). On the
page that appears, click <em>Allocate New Address</em> button. In the appeared window, click the <em>Allocate</em>
button. The new IP address is now displayed in the list of Elastic IPs.</p>
<p><img alt="Figure E.13. Elastic IPs page" src="../images/ec2_tutorial/aws_elastic_ips.png" /></p>
<p>You must immediately assign the created IP address to your instance. To do this, click the
check box to the left of your IP address and click the <em>Associate Address</em> button above the
IP address list. In the window that appears, select the instance name and click the
<em>Yes, Associate</em> button.</p>
<h2 id="connecting-to-ec2-instance-through-ssh">Connecting to EC2 Instance through SSH</h2>
<p>Next we want to connect to the virtual server we’ve just created. In this tutorial, we will use
PuTTY – a free implementation of Telnet and SSH for Windows and Unix platforms.</p>
<p>Download PuTTY archive from <a href="http://the.earth.li/~sgtatham/putty/latest/x86/putty.zip">this link</a>.
Then unzip it to some folder.</p>
<p>You need to import the key pair you have downloaded earlier as a PEM file. To do this, run
<em>PUTTYGEN.EXE</em> from PuTTY distribution. <em>PuTTY Key Generator</em> window appears. In this window,
click the Load <em>button</em> and choose your PEM file to load your existing key pair. Next enter
some password to protect your key (see the image below). Remember the password, because
it will be needed later.</p>
<p><img alt="Figure E.14. Key import" src="../images/ec2_tutorial/putty_key_import.png" /></p>
<p>Finally, click the <em>Save private key</em> button to save your password-protected key as a PPK file.</p>
<p>Now you are ready to connect to your EC2 instance. Run <em>PUTTY.EXE</em> from PuTTY distribution.
The PuTTY Configuration window appears. In that window, select the <em>Connection-&gt;SSH-&gt;Auth</em> category
from the side bar menu and enter the path to your PPK file into the <em>Private key for connection</em>
field (see the figure below).</p>
<p><img alt="Figure E.15. Private key" src="../images/ec2_tutorial/putty_ssh_key.png" /></p>
<p>Select <em>Window-&gt;Translation</em> category from side bar menu and select the UTF-8
encoding from drop-down list (see the figure below for example):</p>
<p><img alt="Figure E.16. Translation" src="../images/ec2_tutorial/putty_translation.png" /></p>
<p>Select <em>Session</em> category from side bar menu. Into the <em>Host name (or IP address)</em> field, enter the
IP address you assigned to your EC2 instance. In the <em>Saved sessions</em> field, enter 'webserver'
and press <em>Save</em> button. Now the information you entered is saved, so you don't have to enter it
each time you connect.</p>
<p><img alt="Figure E.17. Session" src="../images/ec2_tutorial/putty_session.png" /></p>
<p>Now double-click the webserver item in the list of saved sessions. Terminal window appears.
You need to enter 'ec2-user' as your login and press Enter. Then enter the password that
you used when creating the PPK file and press Enter again. If everything is OK, you should
be able to see the prompt like in the figure below:</p>
<p><img alt="Figure E.18. Terminal windows" src="../images/ec2_tutorial/putty_login.png" /></p>
<p>In the shell terminal window, you can type commands and see the results of the command execution.</p>
<h2 id="installing-apache-http-server-and-php-engine">Installing Apache HTTP Server and PHP Engine</h2>
<p>For Laminas Framework based website to run, you need to have a web server and the PHP engine
installed. The next thing we plan to do is installing Apache Web Server and PHP.</p>
<p>First, it is recommended that you update the system by typing the following shell command:</p>
<p><code>sudo yum update</code></p>
<blockquote>
<p>You do not have to type all commands manually, instead you can copy and paste them.
Select the command in this window and copy it into the clipboard (CTRL+C), then click
your mouse's right button over the PuTTY terminal window to insert the text.</p>
</blockquote>
<p>To install Apache HTTP Server, type the following command:</p>
<p><code>sudo yum install httpd</code></p>
<p>Install the PHP engine:</p>
<p><code>sudo yum install php</code></p>
<p>And finally, install the PHP engine’s GD extension (this extension is required by the
Hello World web application to run correctly):</p>
<p><code>sudo yum install php-gd</code></p>
<p>Add Apache HTTP Server to system autorun and start it:</p>
<p><code>sudo chkconfig --level 235 httpd on</code></p>
<p><code>sudo service httpd start</code></p>
<p>To check that Apache Web Server works, enter the IP address of your EC2 instance in your
web browser’s navigation bar. If everything is OK, you should see the page like below:</p>
<p><img alt="Figure E.19. Apache default web page" src="../images/ec2_tutorial/apache_test_page.png" /></p>
<p>Next, we will edit the PHP config file to set the time zone settings (in this tutorial,
we will use our favorite Midnight Commander editor for this purpose).</p>
<p>Install MC:</p>
<p><code>sudo yum install mc</code></p>
<p>Open the php.ini file with MC:</p>
<p><code>sudo mcedit /etc/php.ini</code></p>
<p>Set your time zone settings (replace YOUR_TIMEZONE placeholder with your time zone, for
example, UTC or America/New_York):</p>
<p><code>date.timezone = YOUR_TIMEZONE</code></p>
<p>When ready, save your changes by pressing the F2 key and then press F10 to exit from
Midnight Commander’s editor.</p>
<h2 id="installing-the-hello-world-web-application">Installing the Hello World Web Application</h2>
<p>To get the Hello World application code, we will download the code samples archive
bundled with this book from GitHub.</p>
<p>The following shell commands will create directory for downloads and make it current:</p>
<p><code>mkdir ~/downloads</code></p>
<p><code>cd ~/downloads</code></p>
<p>Download the code samples archive bundled with the book by typing the following:</p>
<p><code>wget https://github.com/olegkrivtsov/using-laminas-book-samples/archive/master.zip</code></p>
<p>Unpack the archive with the unzip command and move the files to web server’s document root directory:</p>
<p><code>unzip master.zip</code></p>
<p><code>sudo mv using-laminas-book-samples-master/* /var/www/html</code></p>
<p>Next, set file and directory permissions to allow Apache read and write access to the Hello World application files:</p>
<p><code>sudo chmod -R 755 /var/www/html/helloworld</code></p>
<p><code>sudo chown -R apache:apache /var/www/html/helloworld</code></p>
<h3 id="creating-virtual-host">Creating Virtual Host</h3>
<p>Now we are almost ready to get our Hello World website live! The last thing we are going to do is
configuring an Apache virtual host. To do that, we will edit the <em>httpd.conf</em> file:</p>
<p><code>sudo mcedit /etc/httpd/conf/httpd.conf</code></p>
<p>If you scroll the file down to its end, you may encounter the commented text block as follows:</p>
<pre><code>#
# Use name-based virtual hosting.
#
#NameVirtualHost *:80
#
# NOTE: NameVirtualHost cannot be used without a port specifier.
# (e.g. :80) if mod_ssl is being used, due to the nature of the
# SSL protocol.
#

#
# VirtualHost example:
# Almost any Apache directive may go into a VirtualHost container.
# The first VirtualHost section is used for requests without a known
# server name.
#
#&lt;VirtualHost *:80&gt;
#    ServerAdmin webmaster@dummy-host.example.com
#    DocumentRoot /www/docs/dummy-host.example.com
#    ServerName dummy-host.example.com
#    ErrorLog logs/dummy-host.example.com-error_log
#    CustomLog logs/dummy-host.example.com-access_log common
#&lt;/VirtualHost&gt;
</code></pre>
<p>To add a virtual host, you’ll have to uncomment this block and add some rules in it.
After your changes, this text block will look like below:</p>
<pre><code>#
# Use name-based virtual hosting.
#
NameVirtualHost *:80
#
# NOTE: NameVirtualHost cannot be used without a port specifier.
# (e.g. :80) if mod_ssl is being used, due to the nature of the
# SSL protocol.
#

#
# VirtualHost example:
# Almost any Apache directive may go into a VirtualHost container.
# The first VirtualHost section is used for requests without a known
# server name.
#
&lt;VirtualHost *:80&gt;
    ServerAdmin yourname@yourserver.com
    DocumentRoot /var/www/html/helloworld/public
    &lt;Directory /var/www/html/helloworld/public&gt;
        DirectoryIndex index.php
        AllowOverride All
        Require all granted
    &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</code></pre>
<p>When ready, press F2 to save changes and F10 to exit from Midnight Commander.</p>
<p>Restart Apache to apply your changes:</p>
<p><code>sudo service httpd restart</code></p>
<h3 id="installing-laminas-framework-with-composer">Installing Laminas Framework with Composer</h3>
<p>Now we will use Composer to install Laminas Framework code and initialize autoloader.
First, go to the directory where you installed the Hello World web application
and type the self-update command to update the Composer:</p>
<p><code>cd /var/www/html/helloworld</code></p>
<p><code>sudo php composer.phar self-update</code></p>
<p>The expected output of this command is the following:</p>
<pre><code>Updating to version 604a65cc31f3e5d8a2b96802135ac24434e87678.
    Downloading: 100%
</code></pre>
<p>Next, type the install command to make Composer to download and install Laminas Framework code:</p>
<p><code>sudo php composer.phar install</code></p>
<p>The expected output will look like as the following:</p>
<pre><code>Loading composer repositories with package information
Installing dependencies (including require-dev) from lock file
Warning: The lock file is not up to date with the latest changes in composer.json. You may be getting outdated dependencies. Run update to update them.
  - Installing laminas/laminas (2.2.4)
    Downloading: 100%

    Skipped installation of bin/classmap_generator.php for package laminas/laminas: name conflicts with an existing file
    Skipped installation of bin/pluginmap_generator.php for package laminas/laminas: name conflicts with an existing file
    Skipped installation of bin/templatemap_generator.php for package laminas/laminas: name conflicts with an existing file
laminas/laminas suggests installing doctrine/annotations (Doctrine Annotations &gt;=1.0 for annotation features)
laminas/laminas suggests installing ext-intl (ext/intl for i18n features (included in default builds of PHP))
laminas/laminas suggests installing ircmaxell/random-lib (Fallback random byte generator for Laminas\Math\Rand if OpenSSL/Mcrypt extensions are unavailable)
laminas/laminas suggests installing ocramius/proxy-manager (ProxyManager to handle lazy initialization of services)
laminas/laminas suggests installing laminas/Laminaspdf (LaminasPdf for creating PDF representations of barcodes)
laminas/laminas suggests installing laminas/Laminasservice-recaptcha (LaminasService\ReCaptcha for rendering ReCaptchas in Laminas\Captcha and/or Laminas\Form)
Generating autoload files
</code></pre>
<h2 id="results">Results</h2>
<p>Once the above steps are done, you will be able to open the Hello World
website in your web browser. If you type the IP address of your EC2
instance in the browser, you should be able to see the following page:</p>
<p><img alt="Figure E.20. Hello World web page" src="../images/ec2_tutorial/helloworld.png" /></p>
<p>Congratulations! You have completed this tutorial and now you should be able to
install any Laminas Framework based website to an Amazon EC2 instance.</p>
<h2 id="summary">Summary</h2>
<p>When your laminas-based website is ready, you'll need to install it on a publicly acessible web server
to make it visible to other people.</p>
<p>In this tutorial, we have shown how to install a laminas-based website to a Amazon EC2
virtual machine. First, you log in to Amazon Management Console and create a EC2 instanse.
Then you connect to the newly created VM and install Apache HTTP server and PHP engine.
Finally, you copy your website files and install dependencies with Composer. That simple!</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../doctrine_intro/" class="btn btn-neutral float-left" title="Appendix D. Introduction to Doctrine"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/modir/laminas-book" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../doctrine_intro/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
